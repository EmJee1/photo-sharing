{{ define "content" }}

	<div class="uk-flex uk-flex-between uk-margin-medium-bottom">
		<h1 class="uk-text-large uk-margin-remove">{{ .group.Name }}</h1>
		<a href="#create-post" class="uk-button uk-button-secondary uk-flex uk-flex-middle" uk-toggle>
			<span class="uk-margin-small-right" uk-icon="plus"></span>
			Post maken
		</a>
	</div>
	<div>
		<ul class="uk-tab" data-uk-tab="{connect:'#group-tabs'}">
			<li class="uk-active"><a>Foto's</a></li>
			<li><a>Deelnemers</a></li>
		</ul>
		<ul id="group-tabs" class="uk-switcher uk-margin" data-url-tab>
			<li data-tab-index="0">
				<div class="uk-child-width-1-2@s uk-child-width-1-3@m"
						 uk-scrollspy="target: > div; cls: uk-animation-fade; delay: 50" uk-grid>
            {{ range .group.Posts }}
                {{ template "post" dict "Post" . "UserID" $.userId }}
            {{ else }}
							<p>Er zijn nog geen posts gedeeld in deze groep</p>
            {{ end }}
				</div>
			</li>
			<li data-tab-index="1">
				<div class="uk-grid-medium" uk-grid>
					<div class="uk-width-1-2">
						<h5>Deelnemers</h5>
						<ul class="uk-list">
                {{ range .group.Users }}
									<li class="uk-grid-small uk-flex-middle" uk-grid>
										<div class="uk-width-auto">
                        {{ template "userIcon" dict "Username" .Username "Dimensions" "30" }}
										</div>
										<p class="uk-margin-remove text-overflow-dots">{{ .Username }} ({{ .Email }})</p>
									</li>
                {{ end }}
						</ul>
					</div>

					<div class="uk-width-1-2">
						<h5>Uitgenodigden</h5>
						<ul class="uk-list">
                {{ range .group.Invites }}
									<li class="uk-grid-small uk-flex-middle" uk-grid>
										<div class="uk-width-auto">
                        {{ template "userIcon" dict "Username" .User.Username "Dimensions" "30" }}
										</div>
										<p class="uk-margin-remove text-overflow-dots">{{ .User.Username }} ({{ .User.Email }})</p>
									</li>
                {{ end }}
						</ul>
					</div>
				</div>

				<hr class="uk-margin-medium-top uk-margin-medium-bottom">

				<h5 class="uk-margin-small-bottom uk-margin-remove-top">Deelnemers uitnodigen</h5>
				<form data-form="invite">
					<input type="hidden" name="groupId" value="{{ .group.ID }}">
					<label class="uk-form-label" for="email">Email</label>
					<div class="uk-flex">
						<input class="uk-input" type="email" name="email" id="email" required>
						<button class="uk-button uk-button-primary" type="submit">Uitnodigen</button>
					</div>
				</form>
			</li>
		</ul>
	</div>

	<div id="create-post" uk-modal>
		<div class="uk-modal-dialog uk-modal-body">
			<h2 class="uk-modal-title">Post maken</h2>
			<form id="post-image-form" enctype='multipart/form-data'>
				<input name="groupId" type="hidden" value="{{ .group.ID }}">
				<div class="uk-margin">
					<label class="uk-form-label" for="caption">Bijschrift</label>
					<input class="uk-input" type="caption" name="caption" id="caption">
				</div>
				<div class="uk-margin">
					<div id="post-image-container" class="js-upload uk-placeholder uk-text-center">
						<span uk-icon="icon: cloud-upload"></span>
						<span class="uk-text-middle">Upload een foto door hem hier te slepen of</span>
						<div uk-form-custom>
							<input type="file" name="image" id="post-image-input" required>
							<span class="uk-link">selecteer er een</span>
						</div>
					</div>
					<div id="post-image-preview" style="display: none">
						<img class="uk-inline uk-display-block" src="" alt="post image preview">
					</div>
				</div>
				<div class="uk-text-right">
					<button class="uk-button uk-button-default uk-modal-close">Cancel</button>
					<button class="uk-button uk-button-primary" type="submit">Save</button>
				</div>
			</form>
		</div>
	</div>

{{ end }}
