{{ define "content" }}

	<div class="uk-flex uk-flex-between uk-margin-medium-bottom">
		<h1 class="uk-text-large uk-margin-remove">{{ .group.Name }}</h1>
		<a href="#create-post" class="uk-button uk-button-secondary uk-flex uk-flex-middle" uk-toggle>
			<span class="uk-margin-small-right" uk-icon="plus"></span>
			Post maken
		</a>
	</div>
	<div>
		<ul class="uk-tab" data-uk-tab="{connect:'#group-tabs'}">
			<li class="uk-active"><a>Foto's</a></li>
			<li><a>Vrienden</a></li>
		</ul>
		<ul id="group-tabs" class="uk-switcher uk-margin" data-url-tab>
			<li data-tab-index="0">
				<div class="uk-child-width-1-2@s uk-child-width-1-3@m"
						 uk-scrollspy="target: > div; cls: uk-animation-fade; delay: 50" uk-grid>
            {{ range .group.Posts }}
							<div>
								<div class="uk-card uk-card-default">
									<div class="uk-card-header">
										<div class="uk-grid-small uk-flex-middle" uk-grid>
											<div class="uk-width-auto">
												<img class="uk-border-circle" width="40" height="40"
														 src="https://avatars.dicebear.com/api/initials/{{ .User.Username }}.svg" alt="Avatar">
											</div>
											<div class="uk-width-expand">
												<h3 class="uk-card-title uk-text-default uk-margin-remove-bottom text-overflow-dots">
                            {{ .User.Username }}
												</h3>
												<p class="uk-text-meta uk-margin-remove-top">
													<time datetime="{{ .CreatedAt }}">{{ .CreatedAt.Format "02 Jan, 2006" }}</time>
												</p>
											</div>
											<div class="uk-width-auto">

											</div>
										</div>
									</div>

									<div>
										<img src="/{{ .Filepath }}" width="1800" height="1200" alt="">
									</div>

									<div class="uk-card-body uk-padding-small">
										<p class="text-overflow-dots">{{ .Caption }}</p>
										<button class="uk-button uk-button-link">Comments & meer</button>
									</div>

								</div>
							</div>
            {{ end }}
				</div>
			</li>
			<li data-tab-index="1">
				<div class="uk-column-1-2@s">
					<h5>Vrienden</h5>
					<ul class="uk-list">
              {{ range .group.Users }}
								<li class="uk-grid-small uk-flex-middle" uk-grid>
									<div class="uk-width-auto">
										<img class="uk-comment-avatar uk-border-circle"
												 src="https://avatars.dicebear.com/api/initials/{{ .Username }}.svg"
												 width="30" height="30" alt="">
									</div>
									<p class="uk-margin-remove text-overflow-dots">{{ .Username }} ({{ .Email }})</p>
								</li>
              {{ end }}
					</ul>

					<h5>Uitgenodigd</h5>
					<ul class="uk-list">
              {{ range .group.GroupInvites }}
								<li class="uk-grid-small uk-flex-middle" uk-grid>
									<div class="uk-width-auto">
										<img class="uk-comment-avatar uk-border-circle"
												 src="https://avatars.dicebear.com/api/initials/{{ .User.Username }}.svg"
												 width="30" height="30" alt="">
									</div>
									<p class="uk-margin-remove text-overflow-dots">{{ .User.Username }} ({{ .User.Email }})</p>
								</li>
              {{ end }}
					</ul>
				</div>

				<h5>Nieuwe vrienden toevoegen</h5>
				<form data-form="invite">
					<input type="hidden" name="groupId" value="{{ .group.ID }}">
					<div class="uk-margin-small">
						<label class="uk-form-label" for="email">Email</label>
						<input class="uk-input uk-form-small" type="email" name="email" id="email" required>
					</div>
					<button class="uk-button uk-button-small uk-button-primary" type="submit">Uitnodigen</button>
				</form>
			</li>
		</ul>
	</div>

	<div id="create-post" uk-modal>
		<div class="uk-modal-dialog uk-modal-body">
			<h2 class="uk-modal-title">Post maken</h2>
			<form id="post-image-form" action="/post" method="post" enctype='multipart/form-data'>
				<input name="group" type="hidden" value="{{ .group.ID }}">
				<div class="uk-margin">
					<label class="uk-form-label" for="caption">Bijschrift</label>
					<input class="uk-input" type="caption" name="caption" id="caption">
				</div>
				<div class="uk-margin">
					<div id="post-image-container" class="js-upload uk-placeholder uk-text-center">
						<span uk-icon="icon: cloud-upload"></span>
						<span class="uk-text-middle">Upload een foto door hem hier te slepen of</span>
						<div uk-form-custom>
							<input type="file" name="image" id="post-image-input">
							<span class="uk-link">selecteer er een</span>
						</div>
					</div>
					<div id="post-image-preview" style="display: none">
						<img class="uk-inline uk-display-block" src="" alt="post image preview">
					</div>
				</div>
				<div class="uk-text-right">
					<button class="uk-button uk-button-default uk-modal-close">Cancel</button>
					<button class="uk-button uk-button-primary" type="submit">Save</button>
				</div>
			</form>
		</div>
	</div>

{{ end }}
